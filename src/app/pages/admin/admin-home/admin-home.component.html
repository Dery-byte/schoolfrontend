<!--       
      {{totalOrders}}
      <hr>

      {{totalSales}} -->
<!-- 
<hr />
{{ userSummary | json }} -->

<!-- {{ dailySales | json }} -->


<!-- {{paymentInfo | json}} -->
<div class="page-inner">
  <div class="d-flex align-items-left align-items-md-center flex-column flex-md-row pt-2 pb-4">

  </div>
  <div class="row">
    <div class="col-sm-6 col-md-3">
      <div class="card card-stats card-round">
        <div class="card-body">
          <div class="row align-items-center">
            <div class="col-icon">
              <div class="icon-big text-center icon-primary bubble-shadow-small">
                <i class="fas fa-users"></i>
              </div>
            </div>
            <div class="col col-stats ms-3 ms-sm-0">
              <div class="numbers">
                <p class="card-category">Farmers</p>
                <h4 class="card-title">1,294</h4>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-sm-6 col-md-3">
      <div class="card card-stats card-round">
        <div class="card-body">
          <div class="row align-items-center">
            <div class="col-icon">
              <div class="icon-big text-center icon-info bubble-shadow-small">
                <i class="fas fa-user-check"></i>
              </div>
            </div>
            <div class="col col-stats ms-3 ms-sm-0">
              <div class="numbers">
                <p class="card-category">Clients</p>
                <h4 class="card-title">{{ totalClients }}</h4>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-sm-6 col-md-3">
      <div class="card card-stats card-round">
        <div class="card-body">
          <div class="row align-items-center">
            <div class="col-icon">
              <div class="icon-big text-center icon-success bubble-shadow-small">
                <i class="fas fa-luggage-cart"></i>
              </div>
            </div>
            <div class="col col-stats ms-3 ms-sm-0">
              <div class="numbers">
                <p class="card-category">Sales</p>
                <h4 class="card-title">
                  {{ totalSales | currency : "GHS" : "â‚µ " : "1.2-2" }}
                </h4>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-sm-6 col-md-3">
      <div class="card card-stats card-round">
        <div class="card-body">
          <div class="row align-items-center">
            <div class="col-icon">
              <div class="icon-big text-center icon-secondary bubble-shadow-small">
                <i class="far fa-check-circle"></i>
              </div>
            </div>
            <div class="col col-stats ms-3 ms-sm-0">
              <div class="numbers">
                <p class="card-category">Orders</p>
                <h4 class="card-title">{{ totalOrders }}</h4>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-8">
      <div class="card card-round">

        <div class="card-body">







          <div class="p-6 bg-white shadow rounded-xl">









            <div class="flex justify-between items-center mb-4">
              <h2 class="text-xl font-semibold text-gray-700">
                Revenue Statistics
              </h2>






              <div class="space-x-2">
                <div class="btn-group statsButton">
                  <button class="btn btn-sm btn-label-light dropdown-toggle" type="button" data-bs-toggle="dropdown"
                    aria-expanded="false">
                    {{ selectedYear || "Select Year" }}
                  </button>
                  <ul class="dropdown-menu">
                    <li *ngFor="let year of years">
                      <a class="dropdown-item" (click)="fetchMonthlyStats(year)">
                        {{ year }}
                      </a>
                    </li>
                  </ul>
                </div>














              </div>
            </div>

           <canvas baseChart [data]="{ labels: chartLabels, datasets: chartData }" [options]="chartOptions"
              [type]="'line'">
            </canvas>











          </div>







        </div>
      </div>
    </div>


































































    <div class="col-md-4">
      <div class="card card-custom card-round">
        <div class="card-header">
          <div class="card-head-row">
            <!-- <div class="card-title">Filter Sales</div> -->
            <div class="card-tools">
              <div class="dropdown">
                <div class="d-flex gap-2">
                  <!-- Month Dropdown -->
                  <div class="btn-group">
                    <button class="btn btn-sm btn-label-light dropdown-toggle" type="button" data-bs-toggle="dropdown"
                      aria-expanded="false">
                      {{ selectedMonth || "Select Month" }}
                    </button>
                    <ul class="dropdown-menu">
                      <li *ngFor="let month of months">
                        <a class="dropdown-item" (click)="selectMonth(month)">
                          {{ month }}
                        </a>
                      </li>
                    </ul>
                  </div>

                  <!-- Year Dropdown -->
                  <div class="btn-group">
                    <button class="btn btn-sm btn-label-light dropdown-toggle" type="button" data-bs-toggle="dropdown"
                      aria-expanded="false">
                      {{ selectedYear || "Select Year" }}
                    </button>
                    <ul class="dropdown-menu">
                      <li *ngFor="let year of years">
                        <a class="dropdown-item" (click)="selectYear(year)">
                          {{ year }}
                        </a>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="card-body pb-0">
          <div class="card-category">
            <button *ngIf="selectedMonth" class="btn btn-sm btn-label-light">
              {{ selectedMonth }} {{ selectedYear }}
            </button>
          </div>

          <ng-container *ngIf="dailySales.length > 0; else noData">
            <table class="table table-bordered table-hover">
              <caption class="custom-caption">
                ðŸ“Š Daily Revenue Summary
              </caption>
              <thead class="table-light custom-thead">
                <tr>
                  <th>Date</th>
                  <th>Amount (â‚µ)</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let sale of dailySales">
                  <td class="custom-td">
                    {{ sale.date | date : "yyyy-MM-dd" }}
                  </td>
                  <td class="custom-td">
                    {{ sale.totalAmount | number : "1.2-2" }}
                  </td>
                </tr>
              </tbody>
            </table>
          </ng-container>
          <ng-template #noData>
            <div *ngIf="dailySales.length === 0" class="alert alert-warning mt-3" role="alert"
              style="color: rgb(3, 3, 82); font-weight: bolder">
              {{ noDataMessage }}
            </div>
          </ng-template>
        </div>
      </div>

      <div class="card card-round">
        <div class="card-body pb-0" *ngIf="dailySales.length > 0">
          <div class="h5 fw-bold mb-2 float-end text-primary">
            â‚µ{{ totalRevenue | number : "1.2-2" }}
          </div>
          <p class="h5 mb-2 fw-bold">Total Revenue:</p>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12">
      <div class="card card-round">
        <div class="card-header">
          <div class="card-head-row card-tools-still-right">
            <h4 class="card-title">Users Geolocation</h4>
            <div class="card-tools">
              <button class="btn btn-icon btn-link btn-primary btn-xs">
                <span class="fa fa-angle-down"></span>
              </button>
              <button class="btn btn-icon btn-link btn-primary btn-xs btn-refresh-card">
                <span class="fa fa-sync-alt"></span>
              </button>
              <button class="btn btn-icon btn-link btn-primary btn-xs">
                <span class="fa fa-times"></span>
              </button>
            </div>
          </div>
          <p class="card-category">
            Map of the distribution of users around the world
          </p>
        </div>
        <div class="card-body">
          <div class="row">
            <div class="col-md-6">
              <div class="table-responsive table-hover table-sales">
                <table class="table">
                  <tbody>
                    <tr>
                      <td>
                        <div class="flag">
                          <img src="assets/img/flags/id.png" alt="indonesia" />
                        </div>
                      </td>
                      <td>Indonesia</td>
                      <td class="text-end">2.320</td>
                      <td class="text-end">42.18%</td>
                    </tr>
                    <tr>
                      <td>
                        <div class="flag">
                          <img src="assets/img/flags/us.png" alt="united states" />
                        </div>
                      </td>
                      <td>USA</td>
                      <td class="text-end">240</td>
                      <td class="text-end">4.36%</td>
                    </tr>
                    <tr>
                      <td>
                        <div class="flag">
                          <img src="assets/img/flags/au.png" alt="australia" />
                        </div>
                      </td>
                      <td>Australia</td>
                      <td class="text-end">119</td>
                      <td class="text-end">2.16%</td>
                    </tr>
                    <tr>
                      <td>
                        <div class="flag">
                          <img src="assets/img/flags/ru.png" alt="russia" />
                        </div>
                      </td>
                      <td>Russia</td>
                      <td class="text-end">1.081</td>
                      <td class="text-end">19.65%</td>
                    </tr>
                    <tr>
                      <td>
                        <div class="flag">
                          <img src="assets/img/flags/cn.png" alt="china" />
                        </div>
                      </td>
                      <td>China</td>
                      <td class="text-end">1.100</td>
                      <td class="text-end">20%</td>
                    </tr>
                    <tr>
                      <td>
                        <div class="flag">
                          <img src="assets/img/flags/br.png" alt="brazil" />
                        </div>
                      </td>
                      <td>Brasil</td>
                      <td class="text-end">640</td>
                      <td class="text-end">11.63%</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <div class="col-md-6">
              <div class="mapcontainer">
                <div id="world-map" class="w-100" style="height: 300px"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-4">
      <div class="card card-round">
        <div class="card-body">
          <div class="card-head-row card-tools-still-right">
            <div class="card-title">New Customers</div>
            <div class="card-tools">
              <div class="dropdown">
                <button class="btn btn-icon btn-clean me-0" type="button" id="dropdownMenuButton"
                  data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <i class="fas fa-ellipsis-h"></i>
                </button>
                <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                  <a class="dropdown-item" href="#">Action</a>
                  <a class="dropdown-item" href="#">Another action</a>
                  <a class="dropdown-item" href="#">Something else here</a>
                </div>
              </div>
            </div>
          </div>

          <div class="card-list py-4">
            <div class="item-list" *ngFor="let customer of userSummary.content">
              <div class="avatar">
                <span class="avatar-title rounded-circle border border-white" [ngClass]="{
                    'bg-primary': getRandomColor() === 'primary',
                    'bg-secondary': getRandomColor() === 'secondary',
                    'bg-success': getRandomColor() === 'success'
                  }">
                  <img src="../../../../assets/logo/AvartaEditted.png"
                    style="border-radius: 50%; height: 30px; width: 30px" />
                </span>
              </div>

              <div class="info-user ms-3">
                <div class="username">{{ customer.fullName }}</div>
                <div class="status">
                  Joined on {{ customer.signupDate | date : "short" }}
                </div>
              </div>
              <button class="btn btn-icon btn-link op-8 me-1">
                <i class="fas fa-envelope"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>


































































    <div class="col-md-8">
      <div class="card card-round">
        <div class="card-header">
          <div class="card-head-row card-tools-still-right">
            <div class="card-title">Transaction History</div>
            <div class="card-tools">
              <div class="dropdown">
                <button class="btn btn-icon btn-clean me-0" type="button" id="dropdownMenuButton"
                  data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <i class="fas fa-ellipsis-h"></i>
                </button>
                <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                  <a class="dropdown-item" href="#">Action</a>
                  <a class="dropdown-item" href="#">Another action</a>
                  <a class="dropdown-item" href="#">Something else here</a>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="card-body p-0">
          <div class="table-responsive">





































































            <!-- Projects table -->
            <div *ngIf="isLoading" class="loading-spinner">
              <!-- Add your loading spinner here -->
              Loading payments...
            </div>

            <table class="table align-items-center mb-0" *ngIf="!isLoading">
              <thead class="thead-light">
                <tr>
                  <th scope="col">Payment Number</th>
                  <th scope="col" class="text-end">Date & Time</th>
                  <th scope="col" class="text-end">Amount</th>
                  <th scope="col" class="text-end">Status</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let transaction of paginatedData">
                  <th scope="row">
                    <button class="btn btn-icon btn-round btn-success btn-sm me-2">
                      <i class="fa fa-check"></i>
                    </button>
                    From {{transaction.payer || 'N/A'}}
                  </th>
                  <td class="text-end">
                    {{transaction.timestamp ? (transaction.timestamp | date:'MMM d, y, h:mm a') : 'N/A'}}
                  </td>
                  <td class="text-end">â‚µ {{transaction.amount}}.00</td>
                  <td class="text-end">
                    <span class="badge" [ngClass]="{
          'badge-success': transaction.txStatus === 1,
          'badge-warning': transaction.txStatus === 0
        }">
                      {{transaction.txStatus === 1 ? 'Completed' : 'Pending'}}
                    </span>
                  </td>
                </tr>

                <tr *ngIf="paginatedData.length === 0">
                  <td colspan="4" class="text-center">No payment records found</td>
                </tr>
              </tbody>
            </table>

            <!-- Custom Pagination Controls -->
            <div class="pagination-controls" *ngIf="!isLoading && paymentInfo.length > 0">
              <button (click)="previousPage()" [disabled]="currentPage === 1">
                <i class="fa fa-chevron-left"></i> Previous
              </button>

              <span *ngFor="let page of getPageNumbers()" (click)="goToPage(page)"
                [class.active]="page === currentPage">
                {{page}}
              </span>

              <button (click)="nextPage()" [disabled]="currentPage === totalPages">
                Next <i class="fa fa-chevron-right"></i>
              </button>

              <span class="page-info">
                Showing {{(currentPage - 1) * itemsPerPage + 1}} -
                {{Math.min(currentPage * itemsPerPage, paymentInfo.length)}} of {{paymentInfo.length}} records
              </span>
            </div>








































          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- WORKING WITH THE DASHBOARD -->
<!-- 
<div class="p-6 bg-white shadow rounded-xl">
  <div class="flex justify-between items-center mb-4">
    <h2 class="text-xl font-semibold text-gray-700">User Statistics</h2>
    <div class="space-x-2">
      <button
        (click)="exportData()"
        class="bg-green-100 text-green-700 px-4 py-1 rounded flex items-center"
      >
        <span class="material-icons text-sm mr-1">edit</span> Export
      </button>
      <button
        (click)="printChart()"
        class="bg-blue-100 text-blue-700 px-4 py-1 rounded flex items-center"
      >
        <span class="material-icons text-sm mr-1">print</span> Print
      </button>
    </div>
  </div>

  <canvas
    baseChart
    [data]="{ labels: chartLabels, datasets: chartData }"
    [options]="chartOptions"
    [type]="'line'"
  >
  </canvas>
</div> -->