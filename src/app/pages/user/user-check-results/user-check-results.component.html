<form [formGroup]="examForm" (ngSubmit)="submitFormCheck()">
  <div class="row">
    <div class="col-md-12">
      <div class="card">
        <div class="card-header">
          <div class="card-title">GET RESULTS</div>
        </div>
        <div class="card-body">
          <!-- Row 1 -->

          <!-- Row 2 -->
          <div class="row">
            <!-- Quantity -->
            <div class="col-md-4">
              <div class="form-group">
                <label for="examYear">Exam Year</label>
                <select
                  class="form-control"
                  id="examYear"
                  formControlName="examYear"
                >
                  <option value="">-- Select Year --</option>
                  <option *ngFor="let year of examYears" [value]="year">
                    {{ year }}
                  </option>
                </select>
                <div
                  class="text-danger"
                  *ngIf="
                    examForm.get('examYear')?.touched &&
                    examForm.get('examYear')?.hasError('required')
                  "
                >
                  Exam year is required
                </div>
              </div>
            </div>

            <!-- Category (Select) -->
            <div class="col-md-4">
              <div class="form-group">
                <label for="examType">Exam Type</label>
                <select
                  class="form-control"
                  id="examType"
                  formControlName="examType"
                >
                  <option value="">-- Select Exam Type --</option>
                  <option *ngFor="let g of groups" [ngValue]="g.id">
                    {{ g.name }}
                  </option>
                </select>
                <div
                  class="text-danger"
                  *ngIf="
                    examForm.get('examType')?.touched &&
                    examForm.get('examType')?.hasError('required')
                  "
                >
                  Exam Type is required
                </div>
              </div>
            </div>

            <!-- Farm ID (Select) -->
            <div class="col-md-4">
              <div class="form-group">
                <label for="indexNumber">Index Number</label>
                <input
                  type="text"
                  class="form-control"
                  id="indexNumber"
                  placeholder="Enter Index Number"
                  formControlName="indexNumber"
                />
                <div
                  class="text-danger"
                  *ngIf="
                    examForm.get('indexNumber')?.touched &&
                    examForm.get('indexNumber')?.hasError('required')
                  "
                >
                  Index Number is required
                </div>
              </div>
            </div>
          </div>

          <button type="submit" class="btn btn-primary mt-3">Submit</button>
        </div>
      </div>
    </div>
  </div>
</form>

<!-- ADD RESULTS MANUALLY -->

















<form [formGroup]="entryForm" class="container-fluid mt-4">
  <!-- Primary Info Section -->
  <div class="card mb-3 p-3 bg-light">
    <div class="row">
      <div class="col-md-4">
        <label>Index Number</label>
        <input type="text" formControlName="indexNumber" class="form-control" placeholder="Index Number" />
      </div>
      <div class="col-md-4">
        <label>Exam Board</label>
        <select class="form-control" formControlName="examBoard" (change)="onBoardChange($event)">
          <option value="">Choose Exam Board</option>
          <option *ngFor="let board of examBoards" [value]="board">{{ board }}</option>
        </select>
      </div>
      <div class="col-md-4">
        <label>Exam Year</label>
        <select class="form-control" formControlName="examYear">
          <option value="">Choose</option>
          <option *ngFor="let year of examYears" [value]="year">{{ year }}</option>
        </select>
      </div>
    </div>
  </div>

  <!-- Subject Entry Section -->
  <div class="card mb-3 p-3 bg-light">
    <div class="row">
      <div class="col-md-3">
        <label>Exam Type</label>
        <select class="form-control" formControlName="examType">
          <option value="">Choose Exam Type</option>
          <option *ngFor="let type of availableExamTypes" [value]="type">{{ type }}</option>
        </select>
      </div>
      <div class="col-md-3">
        <label>Subject</label>
        <input type="text" formControlName="subject" class="form-control" placeholder="Select Subject" />
      </div>
      <div class="col-md-3">
        <label>Grade</label>
        <select class="form-control" formControlName="grade">
          <option value="">Select Grade</option>
          <option *ngFor="let grade of grades" [value]="grade">{{ grade }}</option>
        </select>
      </div>
      <div class="col-md-3">
        <label>Sitting</label>
        <select class="form-control" formControlName="sitting">
          <option value="">Select Sitting</option>
          <option value="May/June">May/June</option>
          <option value="Nov/Dec">Nov/Dec</option>
        </select>
      </div>
    </div>

    <div class="text-center mt-3">
      <button type="button" class="btn btn-primary px-5" (click)="addEntry()">‚ûï Add</button>
    </div>
  </div>

  <!-- Entry Table -->
  <div *ngIf="entries.length > 0" class="card">
    <table class="table table-striped table-bordered mb-0">
      <thead class="table-dark">
        <tr>
          <th>Index No.</th>
          <th>Exam Board</th>
          <th>Year</th>
          <th>Exam Type</th>
          <th>Subject</th>
          <th>Grade</th>
          <th>Sitting</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of entries; let i = index">
          <td>{{ item.indexNumber }}</td>
          <td>{{ item.examBoard }}</td>
          <td>{{ item.examYear }}</td>
          <td>{{ item.examType }}</td>
          <td>{{ item.subject }}</td>
          <td>{{ item.grade }}</td>
          <td>{{ item.sitting }}</td>
          <td>
            <button class="btn btn-sm btn-danger" (click)="removeEntry(i)">üóëÔ∏è Delete</button>
          </td>
        </tr>
      </tbody>
    </table>
    <div class="text-end mt-3">
  <button class="btn btn-success" (click)="getFormattedResponse()">
    üîç Submit for Interpretation
  </button>
</div>

  </div>
</form>
